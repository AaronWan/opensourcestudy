<html>
<head>
    <meta charset="utf-8">
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        // Load the Visualization API and the corechart package.
        google.charts.load('current', {'packages': ['corechart', 'table']});
            #foreach($chartDatas in $data)
                #foreach($chartData in $chartDatas)
                // Set a callback to run when the Google Visualization API is loaded.
                google.charts.setOnLoadCallback(drawChart$chartData.get("id"));

                function drawChart$chartData.get("id")() {
                    // Create the data table.
                    var data = new google.visualization.arrayToDataTable($chartData.data);
                    var rows = data.getNumberOfRows();
                    var chartType='$chartData.get("type")';
                    if (chartType == 'ChainRatioChart') {
                        var trendData = new google.visualization.DataTable();
                        trendData.addColumn('string', data.getColumnLabel(0));
                        trendData.addColumn('number', '增长率');
                        for (var i = 1; i < rows; i++) {
                            var current = data.getValue(i, 1);
                            var previous = data.getValue(i - 1, 1);
                            var growthRate = (current - previous) / previous;
                            trendData.addRow([data.getValue(i, 0), growthRate]);
                        }
                        new google.visualization.ColumnChart(document.getElementById('chart_div_$chartData.get("id")')).draw(trendData, $chartData.get("options"));
                    } else {
                        new google.visualization.$chartData.get("type")(document.getElementById(
                                'chart_div_$chartData.get("id")')).draw(data, $chartData.get("options"));
                    }
                }
                #end
            #end
    </script>
</head>

<body>
<table style="width: 100%">
    #foreach($chartDatas in $data)
        <tr>
            #foreach($chartData in $chartDatas)
                <td>
                    <h2> $chartData.title </h2>
                    <div id="chart_div_$chartData.get("id")" style="height: 400px"></div>
                </td>
            #end
        </tr>
    #end
</table>
<hr>
</body>
</html>