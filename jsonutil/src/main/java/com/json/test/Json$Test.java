package com.json.test;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.serializer.SerializeConfig;
import com.alibaba.fastjson.serializer.SerializerFeature;
import com.google.gson.GsonBuilder;

import java.util.Map;

/**
 * @author wansong
 */
public class Json$Test {
    public static void main(String[] args) {
//        Map map=getData();
//        System.out.println(JSON.toJSONString(map, SerializerFeature.DisableCircularReferenceDetect));
        Map map1=getData();
        System.out.println(JSON.toJSONString(map1));
        System.out.println(JacksonUtil.fromJson(JSON.toJSONString(map1),Map.class));
    }

    private static Map getData() {
        return JSON.parseObject("{\"body\":[{\"eventId\":\"631236892ae1f50001f8ba78\",\"beforeTriggerData\":{\"lock_status\":\"0\",\"last_modified_time\":1662137993570,\"version\":\"2\",\"lock_user\":null},\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"-10000\"},\"batch\":true,\"entityId\":\"EntityId\",\"triggerType\":\"u\",\"objectId\":\"631236888f2a4000014e1815\",\"afterTriggerData\":{\"lock_status\":\"1\",\"last_modified_time\":1662137993692,\"version\":\"3\",\"lock_user\":[\"-10000\"]}},{\"eventId\":\"631236892ae1f50001f8ba78\",\"beforeTriggerData\":{\"lock_status\":\"0\",\"last_modified_time\":1662137993570,\"version\":\"2\",\"lock_user\":null},\"context\":{\"$ref\":\"$.body[0].context\"},\"batch\":true,\"entityId\":\"EntityId\",\"triggerType\":\"u\",\"objectId\":\"631236888f2a4000014e1814\",\"afterTriggerData\":{\"lock_status\":\"1\",\"last_modified_time\":1662137993692,\"version\":\"3\",\"lock_user\":[\"-10000\"]}}],\"dataSource\":null,\"entityId\":null,\"name\":\"object_data\",\"op\":\"u\",\"tenantId\":\"abc\"}");
    }
    private static Map getData1() {
        return JSON.parseObject("{\"body\":[{\"eventId\":\"6311558e0696af00015fccad\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658782\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcaba\"},{\"eventId\":\"6311558e0696af00015fccae\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658783\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcabb\"},{\"eventId\":\"6311558e0696af00015fccaf\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658784\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcabc\"},{\"eventId\":\"6311558e0696af00015fccb0\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658785\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcabd\"},{\"eventId\":\"6311558e0696af00015fccb1\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658786\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcabe\"},{\"eventId\":\"6311558e0696af00015fccb2\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658787\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcabf\"},{\"eventId\":\"6311558e0696af00015fccb3\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658788\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac0\"},{\"eventId\":\"6311558e0696af00015fccb4\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658789\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac1\"},{\"eventId\":\"6311558e0696af00015fccb5\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658790\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac2\"},{\"eventId\":\"6311558e0696af00015fccb6\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658791\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac3\"},{\"eventId\":\"6311558e0696af00015fccb7\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658792\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac4\"},{\"eventId\":\"6311558e0696af00015fccb8\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658793\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac5\"},{\"eventId\":\"6311558e0696af00015fccb9\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658794\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac6\"},{\"eventId\":\"6311558e0696af00015fccba\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658795\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac7\"},{\"eventId\":\"6311558e0696af00015fccbb\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658796\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac8\"},{\"eventId\":\"6311558e0696af00015fccbc\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658797\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcac9\"},{\"eventId\":\"6311558e0696af00015fccbd\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658798\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcaca\"},{\"eventId\":\"6311558e0696af00015fccbe\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658799\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcacb\"},{\"eventId\":\"6311558e0696af00015fccbf\",\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"6841\"},\"name\":\"4658800\",\"entityId\":\"object_0aojF__c\",\"triggerType\":\"i\",\"objectId\":\"6311558d0696af00015fcacc\"}],\"dataSource\":null,\"entityId\":\"object_0aojF__c\",\"name\":\"object_data\",\"op\":\"i\",\"tenantId\":\"abc\"}");
    }
    private static Map getData2() {
        return JSON.parseObject("{\"body\":[{\"eventId\":\"6310e4ace3ee8fsdfdfsfsfsdfdsfddd0001994caf\",\"beforeTriggerData\":{\"lock_status\":\"0\",\"lock_user\":null},\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"-10000\"},\"batch\":true,\"entityId\":\"EntityId\",\"triggerType\":\"u\",\"objectId\":\"6310e4abe3ee8f00019949c1\",\"afterTriggerData\":{\"lock_status\":\"1\",\"lock_user\":[\"-10000\"]}},{\"eventId\":\"6310e4ace3ee8f0001994cb0\",\"beforeTriggerData\":{\"lock_status\":\"0\",\"lock_user\":null},\"context\":{\"appId\":\"CRM\",\"upstreamOwnerId\":null,\"outTenantId\":null,\"tenantId\":\"abc\",\"outUserId\":null,\"userId\":\"-10000\"},\"batch\":true,\"entityId\":\"EntityId\",\"triggerType\":\"u\",\"objectId\":\"6310e4abe3ee8f00019949c0\",\"afterTriggerData\":{\"lock_status\":\"1\",\"lock_user\":[\"-10000\"]}}],\"dataSource\":null,\"entityId\":null,\"name\":\"object_data\",\"op\":\"u\",\"tenantId\":\"abc\"}");
    }
}
